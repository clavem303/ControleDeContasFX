<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<VBox spacing="20" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="tech.clavem303.controller.ContasController"
      styleClass="content-area">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <HBox alignment="CENTER_LEFT" spacing="20">
        <Label text="Centro de Registros" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
        <HBox HBox.hgrow="ALWAYS" />
        <Button text="Novo Registro" styleClass="action-button" onAction="#btnNovaContaAction">
            <graphic>
                <FontIcon iconLiteral="fas-plus" iconColor="WHITE"/>
            </graphic>
        </Button>
    </HBox>

    <TabPane tabClosingPolicy="UNAVAILABLE" VBox.vgrow="ALWAYS">

        <Tab text="Receitas">
            <content>
                <TableView fx:id="tabelaReceitas" styleClass="table-view">
                    <columns>
                        <TableColumn fx:id="colDescReceita" text="Fonte" prefWidth="200"/>
                        <TableColumn fx:id="colCatReceita" text="Categoria" prefWidth="150"/>
                        <TableColumn fx:id="colPagamentoReceita" text="Pgto" prefWidth="80"/>
                        <TableColumn fx:id="colOrigemReceita" text="Origem" prefWidth="150"/>
                        <TableColumn fx:id="colDataReceita" text="Data Rec." prefWidth="100"/>
                        <TableColumn fx:id="colValorReceita" text="Valor" prefWidth="100"/>
                        <TableColumn fx:id="colStatusReceita" text="Status" prefWidth="90"/>
                        <TableColumn fx:id="colAcoesReceita" text="AÃ§Ãµes" prefWidth="90"/>
                    </columns>
                    <placeholder>
                        <Label text="Nenhuma receita cadastrada."/>
                    </placeholder>
                </TableView>
            </content>
        </Tab>

        <Tab text="Contas Fixas">
            <content>
                <TableView fx:id="tabelaFixas" styleClass="table-view">
                    <columns>
                        <TableColumn fx:id="colDescricaoFixa" text="DescriÃ§Ã£o" prefWidth="250"/>
                        <TableColumn fx:id="colCatFixa" text="Categoria" prefWidth="150"/>
                        <TableColumn fx:id="colPagamentoFixa" text="Pgto" prefWidth="80"/>
                        <TableColumn fx:id="colOrigemFixa" text="Origem" prefWidth="150"/>
                        <TableColumn fx:id="colVencimentoFixa" text="Vencimento" prefWidth="120"/>
                        <TableColumn fx:id="colValorFixa" text="Valor (R$)" prefWidth="120"/>
                        <TableColumn fx:id="colStatusFixa" text="Status" prefWidth="100"/>
                        <TableColumn fx:id="colAcoesFixa" text="AÃ§Ãµes" prefWidth="100"/>
                    </columns>
                    <placeholder>
                        <Label text="Nenhuma conta fixa cadastrada."/>
                    </placeholder>
                </TableView>
            </content>
        </Tab>

        <Tab text="Contas VariÃ¡veis">
            <content>
                <TableView fx:id="tabelaVariaveis" styleClass="table-view">
                    <columns>
                        <TableColumn fx:id="colDescricaoVar" text="DescriÃ§Ã£o" prefWidth="200"/>
                        <TableColumn fx:id="colCatVar" text="Categoria" prefWidth="150"/>
                        <TableColumn fx:id="colPagamentoVar" text="Pgto" prefWidth="80"/>
                        <TableColumn fx:id="colOrigemVar" text="Origem" prefWidth="150"/>
                        <TableColumn fx:id="colQtdVar" text="Qtd" prefWidth="60"/>
                        <TableColumn fx:id="colUnitarioVar" text="V. Unit." prefWidth="80"/>
                        <TableColumn fx:id="colVencimentoVar" text="Data Compra" prefWidth="110"/>
                        <TableColumn fx:id="colValorVar" text="Total (R$)" prefWidth="100"/>
                        <TableColumn fx:id="colStatusVar" text="Status" prefWidth="100"/>
                        <TableColumn fx:id="colAcoesVar" text="AÃ§Ãµes" prefWidth="100"/>
                    </columns>
                    <placeholder>
                        <Label text="Nenhuma despesa variÃ¡vel."/>
                    </placeholder>
                </TableView>
            </content>
        </Tab>

        <Tab text="ðŸ” Filtros &amp; RelatÃ³rios">
            <content>
                <VBox spacing="10" style="-fx-padding: 15;">

                    <FlowPane hgap="15" vgap="15" alignment="CENTER_LEFT" style="-fx-background-color: #F1F3F5; -fx-padding: 15; -fx-background-radius: 5;">

                        <VBox spacing="5">
                            <Label text="Palavra-chave:"/>
                            <TextField fx:id="filtroDescricao" promptText="Ex: Mercado" prefWidth="150"/>
                        </VBox>

                        <VBox spacing="5">
                            <Label text="Categoria:"/>
                            <ComboBox fx:id="filtroCategoria" promptText="Todas" prefWidth="180"/>
                        </VBox>

                        <VBox spacing="5">
                            <Label text="De:"/>
                            <DatePicker fx:id="filtroDataInicio" prefWidth="120"/>
                        </VBox>
                        <VBox spacing="5">
                            <Label text="AtÃ©:"/>
                            <DatePicker fx:id="filtroDataFim" prefWidth="120"/>
                        </VBox>

                        <VBox spacing="5">
                            <Label text="Status:"/>
                            <ComboBox fx:id="filtroStatus" prefWidth="110"/>
                        </VBox>

                        <HBox alignment="BOTTOM_LEFT" spacing="10">
                            <Button text="Pesquisar" onAction="#acaoFiltrar"
                                    style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold;">
                                <graphic>
                                    <org.kordamp.ikonli.javafx.FontIcon iconLiteral="fas-search" iconColor="white"/>
                                </graphic>
                            </Button>

                            <Button text="Limpar" onAction="#acaoLimparFiltros"
                                    style="-fx-background-color: #E0E0E0;">
                                <graphic>
                                    <org.kordamp.ikonli.javafx.FontIcon iconLiteral="fas-eraser"/>
                                </graphic>
                            </Button>

                            <Separator orientation="VERTICAL" />

                            <Button text="Exportar PDF" onAction="#acaoExportarPDF"
                                    style="-fx-background-color: #D32F2F; -fx-text-fill: white; -fx-font-weight: bold;">
                                <graphic>
                                    <org.kordamp.ikonli.javafx.FontIcon iconLiteral="fas-file-pdf" iconColor="white"/>
                                </graphic>
                                <tooltip>
                                    <Tooltip text="Gera um relatÃ³rio A4 pronto para impressÃ£o"/>
                                </tooltip>
                            </Button>
                        </HBox>
                    </FlowPane>

                    <TableView fx:id="tabelaFiltro" VBox.vgrow="ALWAYS">
                        <placeholder>
                            <Label text="Use os filtros acima para pesquisar registros."/>
                        </placeholder>
                        <columns>
                            <TableColumn fx:id="colFiltroData" text="Data" prefWidth="100"/>
                            <TableColumn fx:id="colFiltroDesc" text="DescriÃ§Ã£o" prefWidth="250"/>
                            <TableColumn fx:id="colFiltroCat" text="Categoria" prefWidth="150"/>
                            <TableColumn fx:id="colFiltroTipo" text="Tipo" prefWidth="100"/> <TableColumn fx:id="colFiltroValor" text="Valor" prefWidth="120"/>
                            <TableColumn fx:id="colFiltroStatus" text="Status" prefWidth="100"/>
                        </columns>
                    </TableView>

                    <HBox spacing="20" alignment="CENTER_RIGHT" style="-fx-padding: 10; -fx-background-color: #E3F2FD; -fx-background-radius: 5;">
                        <Label text="Total Encontrado:" style="-fx-font-weight: bold;"/>
                        <Label fx:id="lblTotalFiltro" text="R$ 0,00" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #1565C0;"/>
                    </HBox>

                </VBox>
            </content>
        </Tab>

    </TabPane>

</VBox>